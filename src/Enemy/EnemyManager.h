#pragma once
#include "Enemy_Normal.h"
#include "EnemyBoss.h"
#include "../Bot/Bot.h"
#include "../Map/MapManager.h"
#include "../RouteSearch/RouteSearch.h"
#include "../Wave/Wave.h"

const int ENEMY_MAXNUM = 10;

//敵の種類
enum TYPE_ENEMY
{
	TYPE_ENEMY01 = 0,

	TYPE_BOSS,
	TYPE_NUM,
};

class CEnemyManager
{
private:
	static CEnemyManager* cInstance;		//インスタンス

	//モデルのコピー元
	int Org_Hndl;
	TYPE_ENEMY type_id;
	CEnemy_Normal cEnemy_Normal[ENEMY_MAXNUM];
	CEnemyBoss cEnemyBoss[ENEMY_MAXNUM];
	int CoolTime;
	int ReqestCount;		//リクエストした数
	int DeathCount;			//倒された数

	//コンストラクタ・デストラクタ
	CEnemyManager();
	~CEnemyManager();

public:
	static void Create();				//インスタンスの生成

	static void Destroy();				//インスタンスの削除

	static CEnemyManager* GetInstance();		//インスタンスの取得
	

	//初期化
	void Init();

	//データロード
	void Load();

	//終了処理
	void Exit();

	//毎フレーム呼ぶ処理
	void Step(CBot& cBot, CMapManager cMapManager);

	//描画処理
	void Draw();

	//敵の情報取得
	CEnemy_Normal& GetEnemy(int id) { return cEnemy_Normal[id]; }

private:
	//敵リクエスト
	void RequestEnemy();
};
